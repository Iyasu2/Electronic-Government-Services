{% extends "base.html" %} 
{% block title %}Signup{% endblock %} 
{% block content %}
<style>
  /* Add custom CSS styles for the image preview */
  .image-preview-container {
    height: 150px; /* Set a fixed height for the image preview container */
    overflow: hidden; /* Hide any overflow content */
  }

  .image-preview {
    max-width: 100%; /* Make sure the image doesn't exceed the container width */
    height: auto; /* Maintain the image aspect ratio */
  }
</style>
<form method="POST" 
enctype="multipart/form-data" 
onsubmit="return validateForm()"
style="color: white;">
<h3 align="center">Please fill in this National ID form</h3>

<div align="center" class="row">
  <div class="col-md-3 mx-auto">
    <div class="form-group image-preview-container">
      <img id="image-preview" class="image-preview" src="#" alt="Image Preview" />
      {{ form.hidden_tag() }} {{ form.file(onchange="previewImage(this)") }}
      <label for="photo">Upload photo (3x4, jpg or .png)</label>
    </div>
  </div>
</div>
<div class="row">
    <div class="col-md-3">
      <div class="form-group">
        <label for="fatherName">Father's Name</label>
        <input type="text" class="form-control" id="fatherName" name="fatherName" placeholder="Enter Father's name" required/>
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <label for="gfatherName">Grandfather's Name</label>
        <input type="text" class="form-control" id="gfatherName" name="gfatherName" placeholder="Enter Grandfather's name" required/>
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <label for="birthDay">Date of Birth</label>
        <input type="date" class="form-control" id="birthDay" name="birthDay" placeholder="Enter Date of Birth" required/>
      </div>
    </div>
  

  
    <div class="col-md-3">
      <div class="form-group">
        <label for="gender">Gender</label>
        <select class="form-control" id="gender" name="gender" required>
          <option value="">Select Gender</option>
          <option value="male">Male</option>
          <option value="female">Female</option>
        </select>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-3">
      <div class="form-group">
        <label for="region">Region</label>
        <input type="text" class="form-control" id="region" name="region" placeholder="Enter Region" required/>
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <label for="firstName">First Name</label>
        <input type="text" class="form-control" id="firstName" name="firstName" placeholder="Enter first name" required/>
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <label for="subCity">Sub-City</label>
        <input type="text" class="form-control" id="subCity" name="subCity" placeholder="Enter Sub-City" required/>
      </div>
    </div>

  
    <div class="col-md-3">
      <div class="form-group">
        <label for="woreda">Woreda</label>
        <input type="text" class="form-control" id="woreda" name="woreda" placeholder="Enter Woreda" required/>
      </div>
    </div>
    </div>
    <div class="row">
    <div class="col-md-3">
      <div class="form-group">
        <label for="houseNumber">House Number</label>
        <input type="text" class="form-control" id="houseNumber" name="houseNumber" placeholder="Enter House Number" required/>
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <label for="phoneNumber">Phone Number</label>
        <input type="tel" class="form-control" id="phoneNumber" name="phoneNumber" placeholder="Enter Phone Number" pattern="^(\+251-)?\d{9}$" value="+251-" required/>
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <label for="bloodType">Blood Type</label>
        <select class="form-control" id="bloodType" name="bloodType" required>
          <option value="">Select Bloodtype</option>
          <option value="a+">A+</option>
          <option value="a-">A-</option>
          <option value="b+">B+</option>
          <option value="b-">B-</option>
          <option value="ab+">AB+</option>
          <option value="ab-">AB-</option>
          <option value="o+">O+</option>
          <option value="o-">O-</option>
        </select>
      </div>
    </div>

  
    <div class="col-md-3">
      <div class="form-group">
        <label for="expiryDate">Current ID Expiry Date</label>
        <input type="date" class="form-control" id="expiryDate" name="expiryDate" placeholder="Current ID Expiry Date" required/>
      </div>
    </div>
    </div>
    <div class="row">
    <div class="col-md-3">
      <div class="form-group">
        <label for="ecName">Emergency Contact Name</label>
        <input type="text" class="form-control" id="ecName" name="ecName" placeholder="Enter Emergency Contact Name" required/>
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <label for="ecphoneNumber">Emergency Phone Number</label>
        <input type="tel" class="form-control" id="ecphoneNumber" name="ecphoneNumber" placeholder="Enter Emergency Contact Phone Number" pattern="^(\+251-)?\d{9}$" value="+251-" required/>
      </div>
    </div>
  </div>

  <br />
  <div class="d-flex justify-content-center">
  <button type="submit" class="btn btn-primary btn-sm" style="width: 150px;">Submit</button>
</div>
<script>
   function previewImage(input) {
        var preview = document.getElementById('image-preview');
        var placeholder = document.getElementById('image-placeholder');

        if (input.files && input.files[0]) {
          var reader = new FileReader();

          reader.onload = function(e) {
            preview.src = e.target.result;
            preview.style.display = 'block';
            placeholder.style.display = 'none';
          };

          reader.readAsDataURL(input.files[0]);
        } else {
          preview.style.display = 'none';
          placeholder.style.display = 'block';
        }
      }
</script>
</form>
<script>
  function previewImage(input) {
    var preview = document.getElementById('image-preview');
    var file = input.files[0];
    var reader = new FileReader();

    reader.onload = function (e) {
      preview.src = e.target.result;
    };

    if (file) {
      reader.readAsDataURL(file);
    }
  }
</script>
{% endblock %}
